/*
 Navicat Premium Dump SQL

 Source Server         : dms-service-local
 Source Server Type    : MySQL
 Source Server Version : 80402 (8.4.2)
 Source Host           : localhost:3310
 Source Schema         : data_middle_station

 Target Server Type    : MySQL
 Target Server Version : 80402 (8.4.2)
 File Encoding         : 65001

 Date: 26/11/2025 22:26:12
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for analyze
-- ----------------------------
DROP TABLE IF EXISTS `analyze`;
CREATE TABLE `analyze` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `analyze_name` varchar(255) DEFAULT NULL COMMENT '分析名称',
  `view_count` int unsigned DEFAULT '0' COMMENT '访问次数',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `created_by` varchar(100) DEFAULT NULL COMMENT '创建人',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `updated_by` varchar(100) DEFAULT NULL COMMENT '更新人',
  `chart_config_id` bigint DEFAULT NULL COMMENT '图表配置ID',
  `analyze_desc` varchar(255) DEFAULT NULL COMMENT '分析描述',
  `is_deleted` tinyint(1) DEFAULT '0' COMMENT '是否删除：0-未删除，1-已删除',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='图表信息表';

-- ----------------------------
-- Records of analyze
-- ----------------------------
BEGIN;
INSERT INTO `analyze` (`id`, `analyze_name`, `view_count`, `create_time`, `created_by`, `update_time`, `updated_by`, `chart_config_id`, `analyze_desc`, `is_deleted`) VALUES (1, '销售数据看板', 806, '2025-05-30 02:19:10', 'Alice', '2025-11-26 17:32:24', 'admin', 5, '销售数据看板的描述', 0);
INSERT INTO `analyze` (`id`, `analyze_name`, `view_count`, `create_time`, `created_by`, `update_time`, `updated_by`, `chart_config_id`, `analyze_desc`, `is_deleted`) VALUES (2, '城市-月份-降雨量（柱状图）', 480, '2025-05-30 02:19:10', 'Bob', '2025-11-25 15:37:39', 'admin', 6, '城市每个月份降雨量', 0);
INSERT INTO `analyze` (`id`, `analyze_name`, `view_count`, `create_time`, `created_by`, `update_time`, `updated_by`, `chart_config_id`, `analyze_desc`, `is_deleted`) VALUES (3, '城市-月份-气温（折线图）', 176, '2025-05-30 02:19:10', 'Charlie', '2025-11-24 21:47:44', 'admin', 9, '城市-月份-气温', 0);
INSERT INTO `analyze` (`id`, `analyze_name`, `view_count`, `create_time`, `created_by`, `update_time`, `updated_by`, `chart_config_id`, `analyze_desc`, `is_deleted`) VALUES (4, '用户注册渠道分析（饼状图）', 166, '2025-05-30 02:19:10', 'David', '2025-11-25 18:37:51', 'admin', 11, '用户注册渠道分析', 0);
INSERT INTO `analyze` (`id`, `analyze_name`, `view_count`, `create_time`, `created_by`, `update_time`, `updated_by`, `chart_config_id`, `analyze_desc`, `is_deleted`) VALUES (5, '大数据表格', 995, '2025-05-30 02:19:10', 'Eve', '2025-11-24 21:42:49', 'admin', 7, '大数据表格', 0);
COMMIT;

-- ----------------------------
-- Table structure for chart_config
-- ----------------------------
DROP TABLE IF EXISTS `chart_config`;
CREATE TABLE `chart_config` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `data_source` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '数据源表名',
  `columns` json DEFAULT NULL COMMENT '列配置(JSON格式)',
  `dimensions` json DEFAULT NULL COMMENT '维度配置(JSON格式)',
  `filters` json DEFAULT NULL COMMENT '过滤条件(JSON格式)',
  `groups` json DEFAULT NULL COMMENT '分组配置(JSON格式)',
  `orders` json DEFAULT NULL COMMENT '排序配置(JSON格式)',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `created_by` varchar(100) DEFAULT NULL COMMENT '创建人',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `updated_by` varchar(100) DEFAULT NULL COMMENT '更新人',
  `common_chart_config` json DEFAULT NULL COMMENT '公共图表配置(JSON格式)',
  `private_chart_config` json DEFAULT NULL COMMENT '图表配置(JSON格式)',
  `chart_type` varchar(50) DEFAULT NULL COMMENT '图标类型',
  `is_deleted` tinyint(1) DEFAULT '0' COMMENT '是否删除：0-未删除，1-已删除',
  PRIMARY KEY (`id`),
  KEY `idx_data_source` (`data_source`),
  KEY `idx_create_time` (`create_time`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='图表配置表';

-- ----------------------------
-- Records of chart_config
-- ----------------------------
BEGIN;
INSERT INTO `chart_config` (`id`, `data_source`, `columns`, `dimensions`, `filters`, `groups`, `orders`, `create_time`, `created_by`, `update_time`, `updated_by`, `common_chart_config`, `private_chart_config`, `chart_type`, `is_deleted`) VALUES (5, 'operationAnalysis', '[{\"alias\": \"地区\", \"columnName\": \"region\", \"columnType\": \"string\", \"displayName\": \"地区\", \"columnComment\": \"地区\"}, {\"alias\": \"统计日期\", \"columnName\": \"date\", \"columnType\": \"date\", \"displayName\": \"统计日期\", \"columnComment\": \"统计日期\"}, {\"alias\": \"平台\", \"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"platform\", \"columnType\": \"string\", \"filterable\": false, \"displayName\": \"平台\", \"columnComment\": \"平台\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}, {\"alias\": \"平台\", \"columnName\": \"platform\", \"columnType\": \"string\", \"displayName\": \"平台\", \"columnComment\": \"平台\"}, {\"alias\": \"产品类别\", \"columnName\": \"product_category\", \"columnType\": \"string\", \"displayName\": \"产品类别\", \"columnComment\": \"产品类别\"}, {\"alias\": \"新增用户数\", \"columnName\": \"new_users\", \"columnType\": \"number\", \"displayName\": \"新增用户数\", \"columnComment\": \"新增用户数\"}, {\"alias\": \"活跃用户数\", \"columnName\": \"active_users\", \"columnType\": \"number\", \"displayName\": \"活跃用户数\", \"columnComment\": \"活跃用户数\"}, {\"alias\": \"累计用户数\", \"columnName\": \"total_users\", \"columnType\": \"number\", \"displayName\": \"累计用户数\", \"columnComment\": \"累计用户数\"}, {\"alias\": \"次日留存率(%)\", \"columnName\": \"retention_rate\", \"columnType\": \"number\", \"displayName\": \"次日留存率(%)\", \"columnComment\": \"次日留存率(%)\"}, {\"alias\": \"转化率(%)\", \"columnName\": \"conversion_rate\", \"columnType\": \"number\", \"displayName\": \"转化率(%)\", \"columnComment\": \"转化率(%)\"}, {\"alias\": \"平均在线时长(分钟)\", \"columnName\": \"avg_online_time\", \"columnType\": \"number\", \"displayName\": \"平均在线时长(分钟)\", \"columnComment\": \"平均在线时长(分钟)\"}, {\"alias\": \"页面访问量\", \"columnName\": \"pv\", \"columnType\": \"number\", \"displayName\": \"页面访问量\", \"columnComment\": \"页面访问量\"}, {\"alias\": \"独立访客数\", \"columnName\": \"uv\", \"columnType\": \"number\", \"displayName\": \"独立访客数\", \"columnComment\": \"独立访客数\"}, {\"alias\": \"跳出率(%)\", \"columnName\": \"bounce_rate\", \"columnType\": \"number\", \"displayName\": \"跳出率(%)\", \"columnComment\": \"跳出率(%)\"}, {\"alias\": \"收入(元)\", \"columnName\": \"revenue\", \"columnType\": \"number\", \"displayName\": \"收入(元)\", \"columnComment\": \"收入(元)\"}, {\"alias\": \"成本(元)\", \"columnName\": \"cost\", \"columnType\": \"number\", \"displayName\": \"成本(元)\", \"columnComment\": \"成本(元)\"}, {\"alias\": \"投资回报率(%)\", \"columnName\": \"roi\", \"columnType\": \"number\", \"displayName\": \"投资回报率(%)\", \"columnComment\": \"投资回报率(%)\"}, {\"alias\": \"创建时间\", \"columnName\": \"create_time\", \"columnType\": \"date\", \"displayName\": \"创建时间\", \"columnComment\": \"创建时间\"}, {\"alias\": \"更新时间\", \"columnName\": \"update_time\", \"columnType\": \"date\", \"displayName\": \"更新时间\", \"columnComment\": \"更新时间\"}]', '[{\"alias\": \"活跃用户数\", \"__invalid\": false, \"columnName\": \"active_users\", \"columnType\": \"number\", \"displayName\": \"活跃用户数\", \"columnComment\": \"活跃用户数\"}, {\"alias\": \"地区\", \"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"region\", \"columnType\": \"string\", \"filterable\": false, \"displayName\": \"地区\", \"columnComment\": \"地区\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}]', '[]', '[{\"alias\": \"平台\", \"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"platform\", \"columnType\": \"string\", \"filterable\": false, \"displayName\": \"平台\", \"columnComment\": \"平台\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}]', '[]', '2025-05-30 14:29:11', 'system', '2025-11-24 14:08:13', 'admin', '{\"limit\": 1000, \"analyzeDesc\": \"\", \"shareStrategy\": \"\"}', '{\"pie\": {\"chartType\": \"pie\", \"showLabel\": false}, \"line\": {\"smooth\": false, \"showLabel\": false, \"showPoint\": false, \"autoDualAxis\": false, \"horizontalBar\": false}, \"table\": {\"bufferRows\": 5, \"borderColor\": \"#e5e7eb\", \"bodyFontSize\": 14, \"bodyRowHeight\": 30, \"bodyTextColor\": \"#374151\", \"enableSummary\": false, \"scrollbarSize\": 12, \"bodyFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"headerFontSize\": 14, \"headerRowHeight\": 30, \"headerTextColor\": \"#374151\", \"minAutoColWidth\": 80, \"sortActiveColor\": \"#6b7280\", \"summaryFontSize\": 14, \"headerBackground\": \"#fafafa\", \"headerFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"summaryRowHeight\": 30, \"summaryTextColor\": \"#374151\", \"bodyBackgroundOdd\": \"#ffffff\", \"summaryBackground\": \"#f9fafb\", \"summaryFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"bodyBackgroundEven\": \"#fafafa\", \"scrollbarBackground\": \"#f3f4f6\", \"highlightColBackground\": \"rgba(24, 144, 255, 0.1)\", \"highlightRowBackground\": \"rgba(24, 144, 255, 0.1)\", \"enableColHoverHighlight\": false, \"enableRowHoverHighlight\": false, \"highlightCellBackground\": \"#f5f7fa\", \"scrollbarThumbBackground\": \"#d1d5db\", \"scrollbarThumbHoverBackground\": \"#9ca3af\"}, \"interval\": {\"showLabel\": true, \"displayMode\": \"levelDisplay\", \"horizontalBar\": false, \"showPercentage\": false, \"horizontalDisplay\": false}}', 'interval', 0);
INSERT INTO `chart_config` (`id`, `data_source`, `columns`, `dimensions`, `filters`, `groups`, `orders`, `create_time`, `created_by`, `update_time`, `updated_by`, `common_chart_config`, `private_chart_config`, `chart_type`, `is_deleted`) VALUES (6, 'rainfall_data', '[{\"columnName\": \"id\", \"columnType\": \"number\", \"displayName\": \"主键ID\", \"columnComment\": \"主键ID\"}, {\"columnName\": \"name\", \"columnType\": \"string\", \"displayName\": \"城市名称\", \"columnComment\": \"城市名称\"}, {\"columnName\": \"month\", \"columnType\": \"string\", \"displayName\": \"月份\", \"columnComment\": \"月份\"}, {\"columnName\": \"rainfall\", \"columnType\": \"number\", \"displayName\": \"月均降雨量\", \"columnComment\": \"月均降雨量\"}, {\"columnName\": \"create_time\", \"columnType\": \"date\", \"displayName\": \"创建时间\", \"columnComment\": \"创建时间\"}, {\"columnName\": \"update_time\", \"columnType\": \"date\", \"displayName\": \"更新时间\", \"columnComment\": \"更新时间\"}]', '[{\"alias\": \"月均降雨量\", \"__invalid\": false, \"columnName\": \"rainfall\", \"columnType\": \"number\", \"displayName\": \"月均降雨量\", \"columnComment\": \"月均降雨量\"}, {\"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"month\", \"columnType\": \"string\", \"filterable\": false, \"displayName\": \"月份\", \"columnComment\": \"月份\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}]', '[]', '[{\"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"name\", \"columnType\": \"string\", \"filterable\": false, \"displayName\": \"城市名称\", \"columnComment\": \"城市名称\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}]', '[]', '2025-07-28 13:45:06', 'admin', '2025-11-24 11:41:29', 'admin', '{\"limit\": 1000, \"analyzeDesc\": \"\", \"shareStrategy\": \"\"}', '{\"pie\": {\"showLabel\": false}, \"line\": {\"smooth\": true, \"showLabel\": true, \"showPoint\": true, \"autoDualAxis\": false, \"horizontalBar\": false}, \"table\": {\"bufferRows\": 5, \"conditions\": [], \"borderColor\": \"#e5e7eb\", \"bodyFontSize\": \"12\", \"bodyRowHeight\": 30, \"bodyTextColor\": \"#374151\", \"enableSummary\": true, \"scrollbarSize\": 12, \"bodyFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"headerFontSize\": \"13\", \"headerRowHeight\": 30, \"headerTextColor\": \"#374151\", \"minAutoColWidth\": 80, \"sortActiveColor\": \"#6b7280\", \"summaryFontSize\": \"12\", \"headerBackground\": \"#fafafa\", \"headerFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"summaryRowHeight\": 30, \"summaryTextColor\": \"#EF4E09\", \"bodyBackgroundOdd\": \"#A58E8E\", \"summaryBackground\": \"#f9fafb\", \"summaryFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"bodyBackgroundEven\": \"#fafafa\", \"scrollbarBackground\": \"#f3f4f6\", \"enableColHoverHighlight\": false, \"enableRowHoverHighlight\": false, \"highlightCellBackground\": \"#f5f7fa\", \"scrollbarThumbBackground\": \"#d1d5db\", \"scrollbarThumbHoverBackground\": \"#9ca3af\"}, \"interval\": {\"showLabel\": true, \"displayMode\": \"levelDisplay\", \"horizontalBar\": false, \"showPercentage\": false, \"horizontalDisplay\": false}}', 'interval', 0);
INSERT INTO `chart_config` (`id`, `data_source`, `columns`, `dimensions`, `filters`, `groups`, `orders`, `create_time`, `created_by`, `update_time`, `updated_by`, `common_chart_config`, `private_chart_config`, `chart_type`, `is_deleted`) VALUES (7, 'big_data', '[{\"columnName\": \"address\", \"columnType\": \"string\", \"displayName\": \"地址\", \"columnComment\": \"地址\"}, {\"columnName\": \"age\", \"columnType\": \"number\", \"displayName\": \"年龄\", \"columnComment\": \"年龄\"}, {\"columnName\": \"city\", \"columnType\": \"string\", \"displayName\": \"城市\", \"columnComment\": \"城市\"}, {\"columnName\": \"company\", \"columnType\": \"string\", \"displayName\": \"公司\", \"columnComment\": \"公司\"}, {\"columnName\": \"country\", \"columnType\": \"string\", \"displayName\": \"国家\", \"columnComment\": \"国家\"}, {\"columnName\": \"department\", \"columnType\": \"string\", \"displayName\": \"部门\", \"columnComment\": \"部门\"}, {\"columnName\": \"education\", \"columnType\": \"string\", \"displayName\": \"教育\", \"columnComment\": \"教育\"}, {\"columnName\": \"email\", \"columnType\": \"string\", \"displayName\": \"\", \"columnComment\": \"\"}, {\"columnName\": \"experience\", \"columnType\": \"string\", \"displayName\": \"经验\", \"columnComment\": \"经验\"}, {\"columnName\": \"gender\", \"columnType\": \"string\", \"displayName\": \"性别\", \"columnComment\": \"性别\"}, {\"columnName\": \"id\", \"columnType\": \"number\", \"displayName\": \"主键ID\", \"columnComment\": \"主键ID\"}, {\"columnName\": \"mobile\", \"columnType\": \"string\", \"displayName\": \"手机\", \"columnComment\": \"手机\"}, {\"columnName\": \"name\", \"columnType\": \"string\", \"displayName\": \"姓名\", \"columnComment\": \"姓名\"}, {\"columnName\": \"notes\", \"columnType\": \"string\", \"displayName\": \"备注\", \"columnComment\": \"备注\"}, {\"columnName\": \"phone\", \"columnType\": \"string\", \"displayName\": \"电话\", \"columnComment\": \"电话\"}, {\"columnName\": \"position\", \"columnType\": \"string\", \"displayName\": \"职位\", \"columnComment\": \"职位\"}, {\"columnName\": \"salary\", \"columnType\": \"string\", \"displayName\": \"薪资\", \"columnComment\": \"薪资\"}, {\"columnName\": \"skills\", \"columnType\": \"string\", \"displayName\": \"技能\", \"columnComment\": \"技能\"}, {\"columnName\": \"state\", \"columnType\": \"string\", \"displayName\": \"州\", \"columnComment\": \"州\"}, {\"columnName\": \"zipcode\", \"columnType\": \"string\", \"displayName\": \"邮编\", \"columnComment\": \"邮编\"}]', '[{\"alias\": \"地址\", \"align\": \"left\", \"fixed\": \"left\", \"__invalid\": false, \"columnName\": \"address\", \"columnType\": \"string\", \"displayName\": \"地址\", \"columnComment\": \"地址\"}, {\"__invalid\": false, \"columnName\": \"phone\", \"columnType\": \"string\", \"displayName\": \"电话\", \"columnComment\": \"电话\"}, {\"__invalid\": false, \"columnName\": \"id\", \"columnType\": \"number\", \"displayName\": \"主键ID\", \"columnComment\": \"主键ID\"}, {\"width\": 300, \"__invalid\": false, \"columnName\": \"mobile\", \"columnType\": \"string\", \"displayName\": \"手机\", \"columnComment\": \"手机\"}, {\"__invalid\": false, \"columnName\": \"name\", \"columnType\": \"string\", \"displayName\": \"姓名\", \"columnComment\": \"姓名\"}, {\"width\": 500, \"__invalid\": false, \"columnName\": \"notes\", \"columnType\": \"string\", \"displayName\": \"备注\", \"columnComment\": \"备注\"}]', '[]', '[{\"columnName\": \"age\", \"columnType\": \"number\", \"displayName\": \"年龄\", \"columnComment\": \"年龄\"}]', '[{\"orderType\": \"desc\", \"columnName\": \"company\", \"columnType\": \"string\", \"displayName\": \"公司\", \"columnComment\": \"公司\", \"aggregationType\": \"count\"}]', '2025-08-09 17:35:31', 'admin', '2025-09-12 17:33:15', 'admin', '{\"limit\": 10000, \"analyzeDesc\": \"\", \"shareStrategy\": \"\"}', '{\"pie\": {\"showLabel\": false}, \"line\": {\"smooth\": false, \"showLabel\": false, \"showPoint\": false, \"autoDualAxis\": false, \"horizontalBar\": false}, \"table\": {\"bufferRows\": 5, \"conditions\": [], \"borderColor\": \"#02060E\", \"bodyFontSize\": 14, \"bodyRowHeight\": 30, \"bodyTextColor\": \"#374151\", \"enableSummary\": true, \"scrollbarSize\": 12, \"bodyFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"headerFontSize\": 14, \"headerRowHeight\": 30, \"headerTextColor\": \"#374151\", \"minAutoColWidth\": 80, \"sortActiveColor\": \"#6b7280\", \"summaryFontSize\": 14, \"headerBackground\": \"#fafafa\", \"headerFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"summaryRowHeight\": 30, \"summaryTextColor\": \"#4C3751\", \"bodyBackgroundOdd\": \"rgba(241, 78, 78, 1)\", \"summaryBackground\": \"#f9fafb\", \"summaryFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"bodyBackgroundEven\": \"rgba(152, 235, 9, 1)\", \"scrollbarBackground\": \"#0D42AB\", \"highlightColBackground\": \"rgba(55, 194, 127, 0.5)\", \"highlightRowBackground\": \"rgba(105, 172, 234, 0.5)\", \"enableColHoverHighlight\": true, \"enableRowHoverHighlight\": true, \"highlightCellBackground\": \"#f5f7fa\", \"scrollbarThumbBackground\": \"#DFCA0A\", \"scrollbarThumbHoverBackground\": \"#5CC605\"}, \"interval\": {\"showLabel\": false, \"displayMode\": \"levelDisplay\", \"horizontalBar\": false, \"showPercentage\": false, \"horizontalDisplay\": false}}', 'table', 0);
INSERT INTO `chart_config` (`id`, `data_source`, `columns`, `dimensions`, `filters`, `groups`, `orders`, `create_time`, `created_by`, `update_time`, `updated_by`, `common_chart_config`, `private_chart_config`, `chart_type`, `is_deleted`) VALUES (8, 'city_temperature', '[{\"columnName\": \"id\", \"columnType\": \"number\", \"displayName\": \"主键ID\", \"columnComment\": \"主键ID\"}, {\"columnName\": \"month\", \"columnType\": \"string\", \"displayName\": \"月份(英文缩写)\", \"columnComment\": \"月份(英文缩写)\"}, {\"columnName\": \"city\", \"columnType\": \"string\", \"displayName\": \"城市名称\", \"columnComment\": \"城市名称\"}, {\"columnName\": \"temperature\", \"columnType\": \"number\", \"displayName\": \"月均气温 (°C)\", \"columnComment\": \"月均气温 (°C)\"}]', '[]', '[]', '[]', '[]', '2025-08-20 13:54:17', 'admin', '2025-08-20 13:54:17', 'admin', '{\"limit\": 1000, \"analyzeDesc\": \"\", \"shareStrategy\": \"\"}', NULL, 'line', 0);
INSERT INTO `chart_config` (`id`, `data_source`, `columns`, `dimensions`, `filters`, `groups`, `orders`, `create_time`, `created_by`, `update_time`, `updated_by`, `common_chart_config`, `private_chart_config`, `chart_type`, `is_deleted`) VALUES (9, 'city_temperature', '[{\"columnName\": \"id\", \"columnType\": \"number\", \"displayName\": \"主键ID\", \"columnComment\": \"主键ID\"}, {\"columnName\": \"month\", \"columnType\": \"string\", \"displayName\": \"月份(英文缩写)\", \"columnComment\": \"月份(英文缩写)\"}, {\"columnName\": \"city\", \"columnType\": \"string\", \"displayName\": \"城市名称\", \"columnComment\": \"城市名称\"}, {\"columnName\": \"temperature\", \"columnType\": \"number\", \"displayName\": \"月均气温 (°C)\", \"columnComment\": \"月均气温 (°C)\"}]', '[{\"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"temperature\", \"columnType\": \"number\", \"filterable\": false, \"displayName\": \"月均气温 (°C)\", \"columnComment\": \"月均气温 (°C)\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}, {\"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"month\", \"columnType\": \"string\", \"filterable\": false, \"displayName\": \"月份(英文缩写)\", \"columnComment\": \"月份(英文缩写)\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}]', '[]', '[{\"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"city\", \"columnType\": \"string\", \"filterable\": false, \"displayName\": \"城市名称\", \"columnComment\": \"城市名称\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}]', '[]', '2025-08-20 13:54:56', 'admin', '2025-11-24 10:00:29', 'admin', '{\"limit\": 1000, \"analyzeDesc\": \"\", \"shareStrategy\": \"\"}', '{\"pie\": {\"showLabel\": false}, \"line\": {\"smooth\": true, \"showLabel\": true, \"showPoint\": true, \"autoDualAxis\": false, \"horizontalBar\": false}, \"table\": {\"bufferRows\": 5, \"conditions\": [], \"borderColor\": \"#e5e7eb\", \"bodyFontSize\": 14, \"bodyRowHeight\": 30, \"bodyTextColor\": \"#374151\", \"enableSummary\": false, \"scrollbarSize\": 12, \"bodyFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"headerFontSize\": 14, \"headerRowHeight\": 30, \"headerTextColor\": \"#374151\", \"minAutoColWidth\": 80, \"sortActiveColor\": \"#6b7280\", \"summaryFontSize\": 14, \"headerBackground\": \"#fafafa\", \"headerFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"summaryRowHeight\": 30, \"summaryTextColor\": \"#374151\", \"bodyBackgroundOdd\": \"#ffffff\", \"summaryBackground\": \"#f9fafb\", \"summaryFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"bodyBackgroundEven\": \"#fafafa\", \"scrollbarBackground\": \"#f3f4f6\", \"enableColHoverHighlight\": false, \"enableRowHoverHighlight\": false, \"highlightCellBackground\": \"#f5f7fa\", \"scrollbarThumbBackground\": \"#d1d5db\", \"scrollbarThumbHoverBackground\": \"#9ca3af\"}, \"interval\": {\"showLabel\": false, \"displayMode\": \"levelDisplay\", \"horizontalBar\": false, \"showPercentage\": false, \"horizontalDisplay\": false}}', 'line', 0);
INSERT INTO `chart_config` (`id`, `data_source`, `columns`, `dimensions`, `filters`, `groups`, `orders`, `create_time`, `created_by`, `update_time`, `updated_by`, `common_chart_config`, `private_chart_config`, `chart_type`, `is_deleted`) VALUES (10, 'user_registration_channels', '[{\"columnName\": \"id\", \"columnType\": \"number\", \"displayName\": \"\", \"columnComment\": \"\"}, {\"columnName\": \"channel_name\", \"columnType\": \"string\", \"displayName\": \"注册渠道名称\", \"columnComment\": \"注册渠道名称\"}, {\"columnName\": \"channel_code\", \"columnType\": \"string\", \"displayName\": \"渠道代码\", \"columnComment\": \"渠道代码\"}, {\"columnName\": \"registration_count\", \"columnType\": \"number\", \"displayName\": \"注册用户数量\", \"columnComment\": \"注册用户数量\"}, {\"columnName\": \"conversion_rate\", \"columnType\": \"number\", \"displayName\": \"转化率\", \"columnComment\": \"转化率\"}, {\"columnName\": \"cost_per_user\", \"columnType\": \"number\", \"displayName\": \"获客成本\", \"columnComment\": \"获客成本\"}, {\"columnName\": \"created_at\", \"columnType\": \"date\", \"displayName\": \"创建时间\", \"columnComment\": \"创建时间\"}, {\"columnName\": \"updated_at\", \"columnType\": \"date\", \"displayName\": \"更新时间\", \"columnComment\": \"更新时间\"}]', '[{\"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"conversion_rate\", \"columnType\": \"number\", \"filterable\": false, \"displayName\": \"转化率\", \"columnComment\": \"转化率\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}]', '[]', '[]', '[]', '2025-08-20 14:42:47', 'admin', '2025-08-20 14:42:47', 'admin', '{\"limit\": 1000, \"analyzeDesc\": \"\", \"shareStrategy\": \"\"}', '{\"pie\": {\"chartType\": \"pie\", \"showLabel\": false}, \"line\": {\"smooth\": false, \"showLabel\": false, \"showPoint\": false, \"autoDualAxis\": false, \"horizontalBar\": false}, \"table\": {\"bufferRows\": 5, \"conditions\": [], \"borderColor\": \"#e5e7eb\", \"bodyFontSize\": 14, \"bodyRowHeight\": 30, \"bodyTextColor\": \"#374151\", \"enableSummary\": false, \"scrollbarSize\": 12, \"bodyFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"headerFontSize\": 14, \"headerRowHeight\": 30, \"headerTextColor\": \"#374151\", \"minAutoColWidth\": 80, \"sortActiveColor\": \"#6b7280\", \"summaryFontSize\": 14, \"headerBackground\": \"#fafafa\", \"headerFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"summaryRowHeight\": 30, \"summaryTextColor\": \"#374151\", \"bodyBackgroundOdd\": \"#ffffff\", \"summaryBackground\": \"#f9fafb\", \"summaryFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"bodyBackgroundEven\": \"#fafafa\", \"scrollbarBackground\": \"#f3f4f6\", \"enableColHoverHighlight\": false, \"enableRowHoverHighlight\": false, \"highlightCellBackground\": \"#f5f7fa\", \"scrollbarThumbBackground\": \"#d1d5db\", \"scrollbarThumbHoverBackground\": \"#9ca3af\"}, \"interval\": {\"showLabel\": false, \"displayMode\": \"levelDisplay\", \"horizontalBar\": false, \"showPercentage\": false, \"horizontalDisplay\": false}}', 'pie', 0);
INSERT INTO `chart_config` (`id`, `data_source`, `columns`, `dimensions`, `filters`, `groups`, `orders`, `create_time`, `created_by`, `update_time`, `updated_by`, `common_chart_config`, `private_chart_config`, `chart_type`, `is_deleted`) VALUES (11, 'user_registration_channels', '[{\"columnName\": \"id\", \"columnType\": \"number\", \"displayName\": \"\", \"columnComment\": \"\"}, {\"columnName\": \"channel_name\", \"columnType\": \"string\", \"displayName\": \"注册渠道名称\", \"columnComment\": \"注册渠道名称\"}, {\"columnName\": \"channel_code\", \"columnType\": \"string\", \"displayName\": \"渠道代码\", \"columnComment\": \"渠道代码\"}, {\"columnName\": \"registration_count\", \"columnType\": \"number\", \"displayName\": \"注册用户数量\", \"columnComment\": \"注册用户数量\"}, {\"columnName\": \"conversion_rate\", \"columnType\": \"number\", \"displayName\": \"转化率\", \"columnComment\": \"转化率\"}, {\"columnName\": \"cost_per_user\", \"columnType\": \"number\", \"displayName\": \"获客成本\", \"columnComment\": \"获客成本\"}, {\"columnName\": \"created_at\", \"columnType\": \"date\", \"displayName\": \"创建时间\", \"columnComment\": \"创建时间\"}, {\"columnName\": \"updated_at\", \"columnType\": \"date\", \"displayName\": \"更新时间\", \"columnComment\": \"更新时间\"}]', '[{\"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"registration_count\", \"columnType\": \"number\", \"filterable\": false, \"displayName\": \"注册用户数量\", \"columnComment\": \"注册用户数量\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}]', '[]', '[{\"align\": null, \"fixed\": null, \"width\": null, \"sortable\": false, \"__invalid\": false, \"columnName\": \"channel_name\", \"columnType\": \"string\", \"filterable\": false, \"displayName\": \"注册渠道名称\", \"columnComment\": \"注册渠道名称\", \"__invalidMessage\": \"\", \"showOverflowTooltip\": false}]', '[]', '2025-08-20 14:43:20', 'admin', '2025-08-20 23:46:48', 'admin', '{\"limit\": 1000, \"analyzeDesc\": \"\", \"shareStrategy\": \"\"}', '{\"pie\": {\"chartType\": \"pie\", \"showLabel\": true}, \"line\": {\"smooth\": false, \"showLabel\": false, \"showPoint\": false, \"autoDualAxis\": false, \"horizontalBar\": false}, \"table\": {\"bufferRows\": 5, \"conditions\": [], \"borderColor\": \"#e5e7eb\", \"bodyFontSize\": 14, \"bodyRowHeight\": 30, \"bodyTextColor\": \"#374151\", \"enableSummary\": false, \"scrollbarSize\": 12, \"bodyFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"headerFontSize\": 14, \"headerRowHeight\": 30, \"headerTextColor\": \"#374151\", \"minAutoColWidth\": 80, \"sortActiveColor\": \"#6b7280\", \"summaryFontSize\": 14, \"headerBackground\": \"#fafafa\", \"headerFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"summaryRowHeight\": 30, \"summaryTextColor\": \"#374151\", \"bodyBackgroundOdd\": \"#ffffff\", \"summaryBackground\": \"#f9fafb\", \"summaryFontFamily\": \"system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, Ubuntu, sans-serif\", \"bodyBackgroundEven\": \"#fafafa\", \"scrollbarBackground\": \"#f3f4f6\", \"enableColHoverHighlight\": false, \"enableRowHoverHighlight\": false, \"highlightCellBackground\": \"#f5f7fa\", \"scrollbarThumbBackground\": \"#d1d5db\", \"scrollbarThumbHoverBackground\": \"#9ca3af\"}, \"interval\": {\"showLabel\": false, \"displayMode\": \"levelDisplay\", \"horizontalBar\": false, \"showPercentage\": false, \"horizontalDisplay\": false}}', 'pie', 0);
COMMIT;

-- ----------------------------
-- Table structure for scheduled_email_logs
-- ----------------------------
DROP TABLE IF EXISTS `scheduled_email_logs`;
CREATE TABLE `scheduled_email_logs` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '日志ID',
  `task_id` int NOT NULL COMMENT '任务ID',
  `execution_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '执行时间',
  `execution_timezone` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '执行时区',
  `status` enum('success','failed') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '执行状态',
  `message` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT '执行消息',
  `error_details` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT '错误详情',
  `email_message_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '邮件消息ID',
  `sender_email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'system@unknown' COMMENT '发件人邮箱',
  `sender_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '发件人名称',
  `recipient_to` json NOT NULL DEFAULT (json_array()) COMMENT '收件人列表',
  `recipient_cc` json DEFAULT NULL COMMENT '抄送列表',
  `recipient_bcc` json DEFAULT NULL COMMENT '密送列表',
  `reply_to` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '回复邮箱',
  `email_subject` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '邮件主题',
  `attachment_count` int DEFAULT '0' COMMENT '附件数量',
  `attachment_names` json DEFAULT NULL COMMENT '附件名称集合',
  `email_channel` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT 'smtp' COMMENT '发送通道',
  `provider` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '发送服务提供方',
  `provider_response` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT '发送响应信息',
  `accepted_recipients` json DEFAULT NULL COMMENT '成功接收收件人',
  `rejected_recipients` json DEFAULT NULL COMMENT '拒收收件人',
  `retry_count` int DEFAULT '0' COMMENT '任务重试次数',
  `raw_request_payload` json DEFAULT NULL COMMENT '请求原始数据',
  `raw_response_payload` json DEFAULT NULL COMMENT '响应原始数据',
  `smtp_host` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'SMTP主机',
  `smtp_port` int DEFAULT NULL COMMENT 'SMTP端口',
  `execution_duration` int DEFAULT NULL COMMENT '执行耗时(毫秒)',
  `created_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `created_timezone` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '创建时区',
  `created_by` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT 'system' COMMENT '创建人',
  PRIMARY KEY (`id`),
  KEY `idx_task_id` (`task_id`),
  KEY `idx_execution_time` (`execution_time`),
  KEY `idx_status` (`status`),
  KEY `idx_sender_email` (`sender_email`)
) ENGINE=InnoDB AUTO_INCREMENT=30 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='定时邮件任务执行日志表';

-- ----------------------------
-- Records of scheduled_email_logs
-- ----------------------------
BEGIN;
INSERT INTO `scheduled_email_logs` (`id`, `task_id`, `execution_time`, `execution_timezone`, `status`, `message`, `error_details`, `email_message_id`, `sender_email`, `sender_name`, `recipient_to`, `recipient_cc`, `recipient_bcc`, `reply_to`, `email_subject`, `attachment_count`, `attachment_names`, `email_channel`, `provider`, `provider_response`, `accepted_recipients`, `rejected_recipients`, `retry_count`, `raw_request_payload`, `raw_response_payload`, `smtp_host`, `smtp_port`, `execution_duration`, `created_time`, `created_timezone`, `created_by`) VALUES (29, 0, '2025-11-26 17:32:24', 'Asia/Shanghai', 'success', '即时邮件发送成功', NULL, '<e9b7c566-8949-0488-758c-871c3e90ebad@163.com>', '18763006837@163.com', NULL, '[\"xinxin87v5@icloud.com\"]', NULL, NULL, NULL, '数据分析报告 - 销售数据看板 (2025/11/26)', 1, '[\"销售数据看板\"]', 'smtps', 'smtp.163.com', '250 Mail OK queued as gzsmtp3,PigvCgCHrgcoySZp0RyzFQ--.54028S2 1764149544', '[\"xinxin87v5@icloud.com\"]', NULL, 0, '{\"emailConfig\": {\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"数据分析报告 - 销售数据看板 (2025/11/26)\", \"additionalContent\": \"额外说明额外说明额外说明\"}, \"analyzeOptions\": {\"filename\": \"销售数据看板\", \"analyzeId\": 1, \"chartType\": \"interval\", \"analyzeName\": \"销售数据看板\"}}', '{\"ehlo\": [\"AUTH LOGIN PLAIN XOAUTH2\", \"AUTH=LOGIN PLAIN XOAUTH2\", \"coremail 1Uxr2xKj7kG0xkI17xGrU7I0s8FY2U3Uj8Cz28x1UUUUU7Ic2I0Y2UF8o6SrUCa0xDrUUUUj\", \"STARTTLS\", \"ID\", \"8BITMIME\"], \"sender\": \"18763006837@163.com\", \"channel\": \"smtps\", \"accepted\": [\"xinxin87v5@icloud.com\"], \"envelope\": {\"to\": [\"xinxin87v5@icloud.com\"], \"from\": \"18763006837@163.com\"}, \"rejected\": [], \"response\": \"250 Mail OK queued as gzsmtp3,PigvCgCHrgcoySZp0RyzFQ--.54028S2 1764149544\", \"messageId\": \"<e9b7c566-8949-0488-758c-871c3e90ebad@163.com>\", \"transport\": {\"host\": \"smtp.163.com\", \"port\": 465, \"secure\": true}, \"attachments\": [{\"size\": 11684, \"filename\": \"销售数据看板\", \"contentType\": \"image/svg+xml\"}], \"messageSize\": 19785, \"messageTime\": 161, \"envelopeTime\": 136}', 'smtp.163.com', 465, 161, '2025-11-26 17:32:24', 'Asia/Shanghai', 'admin');
COMMIT;

-- ----------------------------
-- Table structure for scheduled_email_tasks
-- ----------------------------
DROP TABLE IF EXISTS `scheduled_email_tasks`;
CREATE TABLE `scheduled_email_tasks` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '任务ID',
  `task_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '任务名称',
  `schedule_time` datetime DEFAULT NULL COMMENT '计划执行时间（定时任务使用）',
  `task_type` enum('scheduled','recurring') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'scheduled' COMMENT '任务类型：定时任务|重复任务',
  `recurring_days` json DEFAULT NULL COMMENT '重复的星期几 [0,1,2,3,4,5,6]，0=周日',
  `recurring_time` time DEFAULT NULL COMMENT '每日执行时间 HH:mm',
  `is_active` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否启用任务',
  `next_execution_time` datetime DEFAULT NULL COMMENT '下次执行时间（重复任务使用）',
  `email_config` json NOT NULL COMMENT '邮件配置(JSON格式)',
  `analyze_options` json NOT NULL COMMENT '图表数据(JSON格式)',
  `status` enum('pending','running','completed','failed','cancelled') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'pending' COMMENT '任务状态',
  `remark` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT '备注说明',
  `created_by` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '创建人',
  `updated_by` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '更新人',
  `created_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `executed_time` timestamp NULL DEFAULT NULL COMMENT '执行时间',
  `error_message` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT '错误信息',
  `retry_count` int NOT NULL DEFAULT '0' COMMENT '重试次数',
  `max_retries` int NOT NULL DEFAULT '3' COMMENT '最大重试次数',
  PRIMARY KEY (`id`),
  KEY `idx_schedule_time` (`schedule_time`),
  KEY `idx_status` (`status`),
  KEY `idx_created_time` (`created_time`),
  KEY `idx_task_type` (`task_type`),
  KEY `idx_is_active` (`is_active`),
  KEY `idx_next_execution_time` (`next_execution_time`),
  KEY `idx_recurring_active` (`task_type`,`is_active`,`next_execution_time`),
  KEY `idx_task_name` (`task_name`),
  KEY `idx_status_schedule_time` (`status`,`schedule_time`),
  CONSTRAINT `chk_scheduled_task` CHECK ((((`task_type` = _utf8mb4'scheduled') and (`schedule_time` is not null)) or ((`task_type` = _utf8mb4'recurring') and (`recurring_days` is not null) and (`recurring_time` is not null))))
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='定时邮件任务表（支持定时任务和重复任务）';

-- ----------------------------
-- Records of scheduled_email_tasks
-- ----------------------------
BEGIN;
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (1, '数据分析报告 - 大数据表格 (2025/9/12) - 定时发送', '2025-09-12 14:42:37', 'scheduled', NULL, NULL, 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"数据分析报告 - 大数据表格 (2025/9/12)\", \"additionalContent\": \"额外说明额外说明额外说明\"}', '{\"filename\": \"大数据表格\", \"analyzeId\": 5, \"chartType\": \"table\", \"analyzeName\": \"大数据表格\"}', 'pending', '', 'admin', 'admin', '2025-09-12 13:40:48', '2025-09-12 13:40:48', NULL, NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (2, '数据分析报告 - 大数据表格 (2025/9/12) - 定时发送', NULL, 'recurring', '[5, 4]', '17:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"数据分析报告 - 大数据表格 (2025/9/12)\", \"additionalContent\": \"\"}', '{\"filename\": \"大数据表格\", \"analyzeId\": 5, \"chartType\": \"table\", \"analyzeName\": \"大数据表格\"}', 'completed', '', 'admin', 'admin', '2025-09-12 17:00:29', '2025-11-14 17:00:00', '2025-11-14 17:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (3, '销售数据日报 - 每日早8点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '08:00:00', 1, '2025-11-12 08:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日销售数据报告\", \"additionalContent\": \"请查收今日销售数据分析报告\"}', '{\"filename\": \"销售数据看板\", \"analyzeId\": 1, \"chartType\": \"bar\", \"analyzeName\": \"销售数据看板\"}', 'completed', '每天早上8点自动发送销售数据日报', 'admin', 'admin', '2025-11-11 23:37:20', '2025-11-12 08:00:14', '2025-11-12 08:00:14', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (4, '运营数据午报 - 每日中午12点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '12:00:00', 1, '2025-11-12 12:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日运营数据午报\", \"additionalContent\": \"上午运营数据汇总\"}', '{\"filename\": \"大数据表格\", \"analyzeId\": 5, \"chartType\": \"table\", \"analyzeName\": \"大数据表格\"}', 'completed', '每天中午12点发送运营数据午报', 'admin', 'admin', '2025-11-11 23:37:20', '2025-11-15 12:00:00', '2025-11-15 12:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (5, '数据日报汇总 - 每日下午6点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '18:00:00', 1, '2025-11-12 18:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日数据汇总报告\", \"additionalContent\": \"今日数据汇总分析\"}', '{\"filename\": \"销售数据看板\", \"analyzeId\": 1, \"chartType\": \"bar\", \"analyzeName\": \"销售数据看板\"}', 'completed', '每天下午6点发送数据日报汇总', 'admin', 'admin', '2025-11-11 23:37:20', '2025-11-25 15:37:34', '2025-11-15 01:26:29', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (6, '工作日数据报告 - 周一至周五早9点', NULL, 'recurring', '[1, 2, 3, 4, 5]', '09:00:00', 1, '2025-11-12 09:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"工作日数据报告\", \"additionalContent\": \"工作日数据分析\"}', '{\"filename\": \"城市-月份-降雨量（柱状图）\", \"analyzeId\": 2, \"chartType\": \"bar\", \"analyzeName\": \"城市-月份-降雨量（柱状图）\"}', 'completed', '工作日（周一至周五）早上9点发送', 'admin', 'admin', '2025-11-11 23:37:20', '2025-11-25 15:37:39', '2025-11-12 09:12:29', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (7, '数据备份报告 - 每日凌晨2点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '02:00:00', 1, '2025-11-12 02:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日数据备份报告\", \"additionalContent\": \"数据备份状态检查\"}', '{\"filename\": \"大数据表格\", \"analyzeId\": 5, \"chartType\": \"table\", \"analyzeName\": \"大数据表格\"}', 'completed', '每天凌晨2点执行数据备份并发送报告', 'admin', 'admin', '2025-11-11 23:37:20', '2025-11-12 02:00:49', '2025-11-12 02:00:49', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (8, '周数据报告 - 每周一早10点', NULL, 'recurring', '[1]', '10:00:00', 1, '2025-11-12 10:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每周数据报告\", \"additionalContent\": \"上周数据汇总分析\"}', '{\"filename\": \"销售数据看板\", \"analyzeId\": 1, \"chartType\": \"bar\", \"analyzeName\": \"销售数据看板\"}', 'completed', '每周一早上10点发送周报', 'admin', 'admin', '2025-11-11 23:37:20', '2025-11-17 10:00:00', '2025-11-17 10:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (9, '用户注册渠道分析 - 每日早7点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '07:00:00', 1, '2025-11-12 07:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日用户注册渠道分析\", \"additionalContent\": \"昨日用户注册渠道数据\"}', '{\"filename\": \"用户注册渠道分析（饼状图）\", \"analyzeId\": 4, \"chartType\": \"pie\", \"analyzeName\": \"用户注册渠道分析（饼状图）\"}', 'completed', '每天早上7点发送用户注册渠道分析', 'admin', 'admin', '2025-11-11 23:37:20', '2025-11-12 07:00:00', '2025-11-12 07:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (10, '日终数据核对 - 每日晚11点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '23:00:00', 1, '2025-11-12 23:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"日终数据核对报告\", \"additionalContent\": \"今日数据核对结果\"}', '{\"filename\": \"大数据表格\", \"analyzeId\": 5, \"chartType\": \"table\", \"analyzeName\": \"大数据表格\"}', 'completed', '每天晚上11点进行日终数据核对', 'admin', 'system', '2025-11-11 23:37:20', '2025-11-15 23:10:42', '2025-11-15 23:10:42', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (11, '气温数据报告 - 每日下午3点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '15:00:00', 1, '2025-11-12 15:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日气温数据报告\", \"additionalContent\": \"城市气温数据分析\"}', '{\"filename\": \"城市-月份-气温（折线图）\", \"analyzeId\": 3, \"chartType\": \"line\", \"analyzeName\": \"城市-月份-气温（折线图）\"}', 'completed', '每天下午3点发送气温数据报告', 'admin', 'admin', '2025-11-11 23:37:20', '2025-11-16 15:00:00', '2025-11-16 15:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (12, '降雨量数据报告 - 每日下午4点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '16:00:00', 1, '2025-11-12 16:00:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日降雨量数据报告\", \"additionalContent\": \"城市降雨量数据分析\"}', '{\"filename\": \"城市-月份-降雨量（柱状图）\", \"analyzeId\": 2, \"chartType\": \"bar\", \"analyzeName\": \"城市-月份-降雨量（柱状图）\"}', 'completed', '每天下午4点发送降雨量数据报告', 'admin', 'admin', '2025-11-11 23:37:20', '2025-11-16 16:00:00', '2025-11-16 16:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (13, '销售数据日报 - 每日早8点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '08:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日销售数据报告\", \"additionalContent\": \"请查收今日销售数据分析报告\"}', '{\"filename\": \"销售数据看板\", \"analyzeId\": 1, \"chartType\": \"bar\", \"analyzeName\": \"销售数据看板\"}', 'completed', '每天早上8点自动发送销售数据日报', 'admin', 'admin', '2025-11-11 23:41:07', '2025-11-12 08:00:14', '2025-11-12 08:00:14', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (14, '运营数据午报 - 每日中午12点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '12:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日运营数据午报\", \"additionalContent\": \"上午运营数据汇总\"}', '{\"filename\": \"大数据表格\", \"analyzeId\": 5, \"chartType\": \"table\", \"analyzeName\": \"大数据表格\"}', 'completed', '每天中午12点发送运营数据午报', 'admin', 'admin', '2025-11-11 23:41:07', '2025-11-15 12:00:00', '2025-11-15 12:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (15, '数据日报汇总 - 每日下午6点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '18:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日数据汇总报告\", \"additionalContent\": \"今日数据汇总分析\"}', '{\"filename\": \"销售数据看板\", \"analyzeId\": 1, \"chartType\": \"bar\", \"analyzeName\": \"销售数据看板\"}', 'completed', '每天下午6点发送数据日报汇总', 'admin', 'system', '2025-11-11 23:41:07', '2025-11-15 18:11:04', '2025-11-15 18:11:04', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (16, '工作日数据报告 - 周一至周五早9点', NULL, 'recurring', '[1, 2, 3, 4, 5]', '09:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"工作日数据报告\", \"additionalContent\": \"工作日数据分析\"}', '{\"filename\": \"城市-月份-降雨量（柱状图）\", \"analyzeId\": 2, \"chartType\": \"bar\", \"analyzeName\": \"城市-月份-降雨量（柱状图）\"}', 'completed', '工作日（周一至周五）早上9点发送', 'admin', 'admin', '2025-11-11 23:41:07', '2025-11-12 09:12:29', '2025-11-12 09:12:29', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (17, '数据备份报告 - 每日凌晨2点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '02:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日数据备份报告\", \"additionalContent\": \"数据备份状态检查\"}', '{\"filename\": \"大数据表格\", \"analyzeId\": 5, \"chartType\": \"table\", \"analyzeName\": \"大数据表格\"}', 'completed', '每天凌晨2点执行数据备份并发送报告', 'admin', 'admin', '2025-11-11 23:41:07', '2025-11-12 02:00:49', '2025-11-12 02:00:49', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (18, '周数据报告 - 每周一早10点', NULL, 'recurring', '[1]', '10:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每周数据报告\", \"additionalContent\": \"上周数据汇总分析\"}', '{\"filename\": \"销售数据看板\", \"analyzeId\": 1, \"chartType\": \"bar\", \"analyzeName\": \"销售数据看板\"}', 'completed', '每周一早上10点发送周报', 'admin', 'admin', '2025-11-11 23:41:07', '2025-11-24 10:00:00', '2025-11-24 10:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (19, '用户注册渠道分析 - 每日早7点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '07:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日用户注册渠道分析\", \"additionalContent\": \"昨日用户注册渠道数据\"}', '{\"filename\": \"用户注册渠道分析（饼状图）\", \"analyzeId\": 4, \"chartType\": \"pie\", \"analyzeName\": \"用户注册渠道分析（饼状图）\"}', 'completed', '每天早上7点发送用户注册渠道分析', 'admin', 'admin', '2025-11-11 23:41:07', '2025-11-12 07:00:00', '2025-11-12 07:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (20, '日终数据核对 - 每日晚11点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '23:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"日终数据核对报告\", \"additionalContent\": \"今日数据核对结果\"}', '{\"filename\": \"大数据表格\", \"analyzeId\": 5, \"chartType\": \"table\", \"analyzeName\": \"大数据表格\"}', 'completed', '每天晚上11点进行日终数据核对', 'admin', 'system', '2025-11-11 23:41:07', '2025-11-15 23:10:42', '2025-11-15 23:10:42', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (21, '气温数据报告 - 每日下午3点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '15:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日气温数据报告\", \"additionalContent\": \"城市气温数据分析\"}', '{\"filename\": \"城市-月份-气温（折线图）\", \"analyzeId\": 3, \"chartType\": \"line\", \"analyzeName\": \"城市-月份-气温（折线图）\"}', 'completed', '每天下午3点发送气温数据报告', 'admin', 'admin', '2025-11-11 23:41:07', '2025-11-16 15:00:00', '2025-11-16 15:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (22, '降雨量数据报告 - 每日下午4点', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '16:00:00', 1, NULL, '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"每日降雨量数据报告\", \"additionalContent\": \"城市降雨量数据分析\"}', '{\"filename\": \"城市-月份-降雨量（柱状图）\", \"analyzeId\": 2, \"chartType\": \"bar\", \"analyzeName\": \"城市-月份-降雨量（柱状图）\"}', 'completed', '每天下午4点发送降雨量数据报告', 'admin', 'admin', '2025-11-11 23:41:07', '2025-11-16 16:00:00', '2025-11-16 16:00:00', NULL, 0, 3);
INSERT INTO `scheduled_email_tasks` (`id`, `task_name`, `schedule_time`, `task_type`, `recurring_days`, `recurring_time`, `is_active`, `next_execution_time`, `email_config`, `analyze_options`, `status`, `remark`, `created_by`, `updated_by`, `created_time`, `updated_time`, `executed_time`, `error_message`, `retry_count`, `max_retries`) VALUES (23, '高频监控任务 - 每1分钟', NULL, 'recurring', '[0, 1, 2, 3, 4, 5, 6]', '*/1', 1, '2025-11-28 15:25:00', '{\"to\": \"xinxin87v5@icloud.com\", \"subject\": \"系统监控报告 - 每分钟\", \"additionalContent\": \"实时系统监控数据\"}', '{\"filename\": \"销售数据看板\", \"analyzeId\": 1, \"chartType\": \"interval\", \"analyzeName\": \"销售数据看板\"}', 'pending', '高频监控任务：每1分钟执行一次，用于实时数据监控', 'admin', 'admin', '2025-11-28 15:24:23', '2025-11-28 15:24:23', NULL, NULL, 0, 3);
COMMIT;

SET FOREIGN_KEY_CHECKS = 1;
