# VSCode Nuxt3 调试配置使用说明

本项目已配置完整的VSCode调试环境，支持Nuxt3的全栈调试。

## 🚀 快速开始

### 1. 安装推荐扩展
VSCode会自动提示安装推荐的扩展，或者手动安装：
- 按 `Ctrl+Shift+X` (Windows/Linux) 或 `Cmd+Shift+X` (macOS) 打开扩展面板
- 搜索并安装推荐的扩展

### 2. 启动调试
- 按 `F5` 或点击调试面板的播放按钮
- 选择调试配置（推荐：`Nuxt3: 开发模式调试`）

## 🔧 调试配置说明

### 服务器端调试配置

#### 开发模式调试
- **名称**: `Nuxt3: 开发模式调试`
- **用途**: 日常开发调试，支持热重载
- **环境**: daily环境
- **端口**: 9229
- **特点**: 自动重启，实时编译

#### 预发布环境调试
- **名称**: `Nuxt3: 预发布环境调试`
- **用途**: 预发布环境调试
- **环境**: pre环境
- **端口**: 9230

#### 生产环境调试
- **名称**: `Nuxt3: 生产环境调试`
- **用途**: 生产环境调试
- **环境**: prod环境
- **端口**: 9231

#### 构建调试
- **名称**: `Nuxt3: 构建调试`
- **用途**: 构建过程调试
- **环境**: daily环境
- **端口**: 9232

#### 生产启动调试
- **名称**: `Nuxt3: 生产启动调试`
- **用途**: 生产服务器启动调试
- **环境**: daily环境
- **端口**: 9233

### 客户端调试配置

#### Chrome调试
- **名称**: `Nuxt3: 客户端调试 (Chrome)`
- **用途**: 浏览器端代码调试
- **URL**: http://localhost:3000
- **特点**: 支持Vue组件调试，网络请求监控

#### Edge调试
- **名称**: `Nuxt3: 客户端调试 (Edge)`
- **用途**: Edge浏览器调试
- **URL**: http://localhost:3000

### 高级调试配置

#### 检查器调试
- **名称**: `Nuxt3: 服务器端调试`
- **用途**: 连接到已运行的Node.js进程
- **端口**: 9229
- **特点**: 支持attach模式，可调试已运行的进程

#### 性能分析调试
- **名称**: `Nuxt3: 性能分析调试`
- **用途**: CPU性能分析
- **端口**: 9234
- **特点**: 生成性能分析文件

#### 内存泄漏检测
- **名称**: `Nuxt3: 内存泄漏检测`
- **用途**: 内存使用监控
- **端口**: 9235
- **特点**: 支持垃圾回收分析

#### 测试调试
- **名称**: `Nuxt3: 测试调试`
- **用途**: 单元测试调试
- **端口**: 9236

### 复合调试配置

#### 全栈调试
- **名称**: `Nuxt3: 全栈调试 (服务器 + 客户端)`
- **用途**: 同时调试服务器端和客户端
- **包含**: 开发模式调试 + Chrome调试

#### Edge全栈调试
- **名称**: `Nuxt3: 全栈调试 (Edge)`
- **用途**: 使用Edge浏览器进行全栈调试
- **包含**: 开发模式调试 + Edge调试

## 🛠️ 使用方法

### 基本调试流程

1. **设置断点**
   - 在代码行号左侧点击设置断点
   - 或在代码中按 `F9`

2. **启动调试**
   - 按 `F5` 启动调试
   - 选择调试配置
   - 等待应用启动

3. **调试控制**
   - `F5`: 继续执行
   - `F10`: 单步跳过
   - `F11`: 单步进入
   - `Shift+F11`: 单步跳出
   - `Shift+F5`: 停止调试

### 调试技巧

#### 1. 条件断点
- 右键断点 → 编辑断点
- 设置条件表达式
- 例如：`count > 5`

#### 2. 日志断点
- 右键断点 → 编辑断点
- 选择"日志消息"
- 输入要输出的信息

#### 3. 表达式求值
- 在调试控制台中输入表达式
- 查看变量值和调用函数

#### 4. 监视变量
- 在监视面板中添加变量
- 实时监控变量值变化

## 📱 浏览器调试

### Chrome DevTools 集成

1. **启动客户端调试**
   - 选择 `Nuxt3: 客户端调试 (Chrome)`
   - 确保Nuxt3服务器已启动

2. **调试Vue组件**
   - 安装Vue DevTools扩展
   - 在浏览器中查看组件状态

3. **网络请求监控**
   - 在Network面板查看API调用
   - 分析请求/响应数据

### 断点调试

1. **在浏览器中设置断点**
   - 打开开发者工具
   - 在Sources面板设置断点

2. **调试客户端代码**
   - 支持ES6+语法
   - 支持Vue单文件组件

## 🔍 常见问题

### 1. 断点不生效
- 检查是否在正确的文件中设置断点
- 确保调试配置正确
- 检查端口是否被占用

### 2. 源码映射问题
- 确保TypeScript配置正确
- 检查`outFiles`配置
- 验证构建输出路径

### 3. 环境变量问题
- 检查`.env`文件是否存在
- 验证环境变量格式
- 确保调试配置中的环境变量正确

### 4. 端口冲突
- 修改调试配置中的端口号
- 检查是否有其他进程占用端口
- 使用`lsof -i :端口号`查看端口占用

## 🎯 最佳实践

### 1. 调试配置选择
- **开发阶段**: 使用开发模式调试
- **问题排查**: 使用检查器调试
- **性能优化**: 使用性能分析调试
- **内存问题**: 使用内存泄漏检测

### 2. 断点策略
- 在关键逻辑处设置断点
- 使用条件断点减少干扰
- 合理使用日志断点

### 3. 调试环境
- 开发环境使用详细日志
- 生产环境谨慎使用调试
- 定期清理调试配置

## 📚 相关资源

- [VSCode 调试官方文档](https://code.visualstudio.com/docs/editor/debugging)
- [Node.js 调试指南](https://nodejs.org/en/docs/guides/debugging-getting-started/)
- [Nuxt3 官方文档](https://nuxt.com/docs)
- [Vue.js 调试技巧](https://vuejs.org/guide/scaling-up/tooling.html#browser-devtools)

## 🤝 贡献

如果你发现配置中的问题或有改进建议，请提交Issue或Pull Request。
